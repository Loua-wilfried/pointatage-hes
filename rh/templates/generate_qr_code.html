{% extends 'base.html' %}
{% block content %}

<div class="container mt-4">
    <h2>Générer un QR Code de pointage</h2>
    <form method="post" class="mb-4">
        {% csrf_token %}
        <div class="row">
            <div class="col-md-5">
                {{ form.agence.label_tag }}
                {{ form.agence }}
            </div>
            <div class="col-md-5">
                {{ form.type.label_tag }}
                {{ form.type }}
            </div>
            <div class="col-md-2 d-flex align-items-end">
                <button type="submit" class="btn btn-success">Générer QR Code</button>
            </div>
        </div>
    </form>

    {% if qr_code_url %}
    <div class="text-center">
        <img src="{{ qr_code_url }}" alt="QR Code" style="width: 300px; height: 300px;"/>
    </div>
    <div class="text-center mt-3">
        <button onclick="window.print()" class="btn btn-primary">Imprimer le QR Code</button>
    </div>
    <div class="mt-3 text-center">
        <strong>Agence :</strong> {{ agence_nom }}<br/>
        <strong>Type :</strong> {{ type_pointage|title }}<br/>
        <strong>ID Agence :</strong> {{ agence_id }}
    </div>
    {% endif %}
</div>
{% endblock %}
